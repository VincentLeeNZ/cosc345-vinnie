<html>

<head>
  <meta charset="utf-8">
  <title>MyApp -- (app.html)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="stylesheet" href="infinite-page.css">

</head>

<body>
  <section class="hero">

    <div class="main-width">
      <header>
        <div class="game-name">
          <h2>Millionaire Tycoon </h2>
        </div>

        <nav>
          <ul>
            <li><button id="home" onclick="goToHome()">Home</button></li>
            <li><button id="portfolio" onclick="goToPortfolio()">Portfolio</a></li>
            <li><button id="recenttrades" onclick="goToRecentTrades()">Recent Trades</a></li>
          </ul>
        </nav>

        
        
      </header>

      <!-- buy/sell -->
      <div class="left-container">
        <div class="dropdown">
          <button onclick="dropdown()" class="dropbtn">Choose Stock</button>
          <div id="myDropdown" class="dropdown-content">
            <input type="text" placeholder="Search.." id="myInput" onkeyup="filterFunction()">
            <a href="#about">AAPL</a>
            <a href="#base">AMZN</a>
            <a href="#blog">GOOG</a>
            <a href="#contact">AMGN</a>
            <a href="#custom">MSFT</a>
          </div>
        </div>

        <div id="buySellContainer">
          <button onclick="switchBuySell()" id="buySell">Buy</button>
        </div>

        <div id="currentPrice">$21.15</div>

        <div id="stocksAvailable">11,346</div>

        <label for="quantity">Quantity needed:</label>
        <input type="number" id="quantity" name="quantity" min="1">

        <div id="totalPrice"></div>

        <div id="commitTransaction">
          <button onclick="commitTransaction()" id="buySell">Commit</button>
        </div>



      </div>
      
     



      <!-- graph -->
    <div class="right-container">
        <div class = "graphBox">
          <div class="graph">
            <p id="x1">x-axis</p>
            <p id="y1">y-axis</p>
            <div>
              <div id="point..."></div>
              <div id="line..."></div>
          </div>
          </div>
        </div>
    </div>

    </div>
  </section>
  <script>
    function goToHome() {
      // Change the button text
      document.getElementById("home").innerHTML;

      // Redirect to home
      window.location.href = "app.html";
    }
    function dropdown() {
      document.getElementById("myDropdown").classList.toggle("show");
    }

    function filterFunction() {
      var input, filter, ul, li, a, i;
      input = document.getElementById("myInput");
      filter = input.value.toUpperCase();
      div = document.getElementById("myDropdown");
      a = div.getElementsByTagName("a");
      for (i = 0; i < a.length; i++) {
        txtValue = a[i].textContent || a[i].innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          a[i].style.display = "";
        } else {
          a[i].style.display = "none";
        }
      }
    }

    function showStockInfo(currentPrice, stocksAvailable){
      document.getElementById("currentPrice").textContent = currentPrice;
      document.getElementById("stocksAvailable").textContent = stocksAvailable;
    }

    function switchBuySell() {
      var button = document.getElementById("buySell");
      if (button.innerHTML === "Buy") {
        // Change the content to "Sell" if it's currently "Buy"
        button.innerHTML = "Sell";
      } else {
        // Change the content to "Buy" if it's currently "Sell" or any other text
        button.innerHTML = "Buy";
      }
    }
    function updateTotalPrice() {
      var currentPrice = parseFloat(document.getElementById("currentPrice").textContent.slice(1));
      var quantity = parseInt(document.getElementById("quantity").value);

      var totalPrice = currentPrice * quantity;
      
      if (isNaN(quantity)) {
        document.getElementById("totalPrice").textContent = "Total Price: $0.00";
        return;
      }

      document.getElementById("totalPrice").textContent = "Total Price: $" + totalPrice.toFixed(2);
  }
  // Add an event listener to the quantity input element
  document.getElementById("quantity").addEventListener("input", updateTotalPrice);
  </script>

</body>

</html>